<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="CWL runner for Kubernetes"><meta name=author content="Fabrice Brito"><link href=https://calrissian-cwl.github.io/how-it-works/ rel=canonical><link href=../background/ rel=prev><link href=../tutorial/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.34"><title>How it works - Calrissian - CWL on Kubernetes</title><link rel=stylesheet href=../assets/stylesheets/main.35f28582.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#environment class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="Calrissian - CWL on Kubernetes" class="md-header__button md-logo" aria-label="Calrissian - CWL on Kubernetes" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Calrissian - CWL on Kubernetes </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> How it works </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/calrissian-cwl/calrissian-cwl.github.io.git title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> Duke-GCB/calrissian </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Calrissian - CWL on Kubernetes" class="md-nav__button md-logo" aria-label="Calrissian - CWL on Kubernetes" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Calrissian - CWL on Kubernetes </label> <div class=md-nav__source> <a href=https://github.com/calrissian-cwl/calrissian-cwl.github.io.git title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> Duke-GCB/calrissian </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Installation and Configuration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Installation and Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../cluster-configuration/ class=md-nav__link> <span class=md-ellipsis> Cluster Configuration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../background/ class=md-nav__link> <span class=md-ellipsis> Background </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> How it works </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> How it works </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#environment class=md-nav__link> <span class=md-ellipsis> Environment </span> </a> </li> <li class=md-nav__item> <a href=#scalability-resource-requirements class=md-nav__link> <span class=md-ellipsis> Scalability / Resource Requirements </span> </a> <nav class=md-nav aria-label="Scalability / Resource Requirements"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpu class=md-nav__link> <span class=md-ellipsis> CPU </span> </a> </li> <li class=md-nav__item> <a href=#memory class=md-nav__link> <span class=md-ellipsis> Memory </span> </a> </li> <li class=md-nav__item> <a href=#gpu class=md-nav__link> <span class=md-ellipsis> GPU </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resource-consumption-report class=md-nav__link> <span class=md-ellipsis> Resource consumption report </span> </a> </li> <li class=md-nav__item> <a href=#cwl-execution-results class=md-nav__link> <span class=md-ellipsis> CWL execution results </span> </a> </li> <li class=md-nav__item> <a href=#calrissian-execution-log class=md-nav__link> <span class=md-ellipsis> Calrissian execution log </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../tutorial/ class=md-nav__link> <span class=md-ellipsis> Tutorial </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> How-to </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> How-to </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../how-to/save-tool-logs/ class=md-nav__link> <span class=md-ellipsis> Save the tool logs </span> </a> </li> <li class=md-nav__item> <a href=../how-to/set-pod-labels/ class=md-nav__link> <span class=md-ellipsis> Set pod labels </span> </a> </li> <li class=md-nav__item> <a href=../how-to/set-node-selectors/ class=md-nav__link> <span class=md-ellipsis> Set node selectors </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/cli/ class=md-nav__link> <span class=md-ellipsis> Command-line tool </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> Conformance </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Conformance </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../conformance/1.0.2/ class=md-nav__link> <span class=md-ellipsis> 1.0.2 </span> </a> </li> <li class=md-nav__item> <a href=../conformance/1.1.0/ class=md-nav__link> <span class=md-ellipsis> 1.1.0 </span> </a> </li> <li class=md-nav__item> <a href=../conformance/1.2.0/ class=md-nav__link> <span class=md-ellipsis> 1.2.0 </span> </a> </li> <li class=md-nav__item> <a href=../conformance/1.2.1/ class=md-nav__link> <span class=md-ellipsis> 1.2.1 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#environment class=md-nav__link> <span class=md-ellipsis> Environment </span> </a> </li> <li class=md-nav__item> <a href=#scalability-resource-requirements class=md-nav__link> <span class=md-ellipsis> Scalability / Resource Requirements </span> </a> <nav class=md-nav aria-label="Scalability / Resource Requirements"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpu class=md-nav__link> <span class=md-ellipsis> CPU </span> </a> </li> <li class=md-nav__item> <a href=#memory class=md-nav__link> <span class=md-ellipsis> Memory </span> </a> </li> <li class=md-nav__item> <a href=#gpu class=md-nav__link> <span class=md-ellipsis> GPU </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resource-consumption-report class=md-nav__link> <span class=md-ellipsis> Resource consumption report </span> </a> </li> <li class=md-nav__item> <a href=#cwl-execution-results class=md-nav__link> <span class=md-ellipsis> CWL execution results </span> </a> </li> <li class=md-nav__item> <a href=#calrissian-execution-log class=md-nav__link> <span class=md-ellipsis> Calrissian execution log </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>How it works</h1> <h2 id=environment>Environment</h2> <p>Calrissian process must run in a pod in a kubernetes cluster.</p> <p>This process must have an environment variable name <strong>CALRISSIAN_POD_NAME</strong> used by Calrissian to identify the Pod in which it is running. </p> <p>Calrissian uses this information to list the volumes mounted on the current Pod and to "re-mount" these volumes on the Pods that will be created for running individual CWL tools. </p> <p>This ensures that the tools have access to the necessary files and directories specified in the CWL workloads.</p> <h2 id=scalability-resource-requirements>Scalability / Resource Requirements</h2> <p>Calrissian is designed to issue tasks in parallel if they are independent, and thanks to Kubernetes, should be able to run very large parallel workloads.</p> <p>When running calrissian, you must provide a limit the the number of CPU cores (<code>--max-cores</code>), RAM megabytes (<code>--max-ram</code>) and GPU (<code>--max-gpu</code>) to use concurrently. Calrissian will use CWL ResourceRequirements to track usage and stay within the limits provided. </p> <p>It is highly recommended using accurate ResourceRequirements in the workloads, so that they can be scheduled efficiently and are less likely to be terminated or refused by the cluster.</p> <h3 id=cpu>CPU</h3> <p>The <code>--max-cores</code> option sets the maximum number of CPU cores that Calrissian can use during the execution of a workflow. This value is specified as an integer, representing the total number of CPU cores allocated across all the Pods managed by Calrissian.</p> <p>How it works:</p> <ul> <li>Calrissian tracks the total number of CPU cores being utilized by all active Pods.</li> <li>Pods are scheduled to run on the cluster as long as the cumulative CPU usage remains below the specified <code>--max-cores</code> limit.</li> <li>If starting a new Pod would cause the total CPU usage to exceed this limit, the Pod will remain in a pending state until sufficient CPU resources are freed by the completion or termination of other Pods.</li> </ul> <p>This option is crucial for managing CPU resources effectively within a Kubernetes environment, ensuring that the workflow does not overcommit CPU resources, which could lead to performance issues or throttling by the Kubernetes scheduler.</p> <h3 id=memory>Memory</h3> <p>The <code>--max-ram</code> option sets the maximum amount of RAM that Calrissian can use during the execution of a workflow. This value can be specified in bytes (e.g., 1048576), mebibytes (e.g., 512Mi), or gigabytes (e.g., 2G), following Kubernetes (k8s) resource conventions.</p> <p>How it works:</p> <ul> <li>Calrissian monitors the total RAM consumption of all the Pods it manages.</li> <li>Pods are created and scheduled to run on the cluster as long as the cumulative RAM usage remains below the specified <code>--max-ram</code> limit.</li> <li>If launching a new Pod would exceed this limit, the Pod remains in a pending state until sufficient resources are freed by the completion or termination of other Pods.</li> </ul> <p>This mechanism ensures that the workflow adheres to the specified memory constraints, preventing over-allocation of resources that could lead to performance degradation or failures in a Kubernetes environment.</p> <h3 id=gpu>GPU</h3> <p>The <code>--max-gpus</code> option sets the maximum number of GPU cores that Calrissian can utilize during the execution of a workflow. This value is specified as an integer, representing the total number of GPU nodes available for allocation across all Pods managed by Calrissian.</p> <p>How it works:</p> <ul> <li>Calrissian monitors the total number of GPU cores in use by all active Pods.</li> <li>Pods that require GPU resources are scheduled to run on the cluster as long as the cumulative GPU usage remains below the specified <code>--max-gpus</code> limit.</li> <li>If launching a new Pod would exceed this GPU limit, the Pod remains in a pending state until sufficient GPU resources are freed by the completion or termination of other Pods.</li> </ul> <p>This option is essential for workflows that involve GPU-intensive tasks, such as machine learning or scientific computations, ensuring that GPU resources are managed effectively and preventing over-allocation that could lead to resource contention or job failures.</p> <h2 id=resource-consumption-report>Resource consumption report</h2> <p>The <code>--usage-report</code> option specifies the path to a JSON file where Calrissian will record detailed resource usage metrics and job outcomes during the execution of a workflow. This report provides valuable insights into how resources were utilized and the performance of each task within the workflow.</p> <p><strong>What it includes:</strong></p> <ul> <li>CPU Cores: The total number of CPU cores used by each Pod during its execution.</li> <li>RAM Usage: The amount of RAM consumed by each Pod throughout its lifecycle.</li> <li>GPU Usage (if applicable): The number of GPU cores utilized by Pods, relevant if the workflow involves GPU resources.</li> <li>Exit Codes: The exit codes returned by each Pod, indicating the success or failure of the tasks they performed.</li> </ul> <p><strong>How it works:</strong></p> <p>Throughout the workflow execution, Calrissian tracks the resource usage and exit codes of all Pods it manages.</p> <p>Upon completion, Calrissian compiles this data into a JSON file at the location specified by the <code>--usage-report</code> option.</p> <p>This JSON report can be used for post-execution analysis, helping users understand resource allocation, optimize future runs, and troubleshoot any issues that may have occurred.</p> <p>This option is particularly useful for monitoring and optimizing workflows, as it provides a comprehensive overview of how resources were consumed during execution, as well as the success or failure of each task.</p> <h2 id=cwl-execution-results>CWL execution results</h2> <p>The <code>--stdout</code> option specifies the file where Calrissian will dump the standard output produced by the CWL (Common Workflow Language) execution, which typically includes the results or outputs generated by the workflow.</p> <p><strong>How it works:</strong></p> <p>During the execution of a CWL workflow, various tools and steps produce outputs. These outputs, often formatted as JSON, describe the results of the workflow, including any files, data, or other artifacts generated.</p> <p>The <code>--stdout</code> option directs this output to a specified file, rather than displaying it directly in the terminal.</p> <p>By capturing the output in a file, users can easily access and review the results after the workflow completes.</p> <p>Benefits:</p> <ul> <li>Convenience: Storing output in a file allows for easy access and review, especially for large outputs that may be cumbersome to read in the terminal.</li> <li>Post-processing: The output file can be used for further processing, such as parsing the results with scripts, sharing the file with collaborators, or integrating with other tools.</li> <li>Record-keeping: The output file serves as a permanent record of the workflow results, which can be useful for documentation or reproducibility.</li> </ul> <p>This option is essential for workflows where the output data is important for further analysis, sharing, or archiving, ensuring that the results are captured in a structured and accessible format.</p> <h2 id=calrissian-execution-log>Calrissian execution log</h2> <p>The <code>--stderr</code> option specifies the file where Calrissian will log the standard error output, which includes detailed execution logs of the Calrissian process, as well as any error messages, warnings, or diagnostic information generated during the workflow execution.</p> <p><strong>How it works:</strong></p> <p>During the execution of a CWL (Common Workflow Language) workflow, Calrissian generates various log entries and error messages that are normally output to the terminal's standard error stream.</p> <p>The <code>--stderr</code> option directs this standard error output to a specified file, ensuring that all relevant logs and error information are captured for review.</p> <p>This log file contains critical information about the workflow execution, including any issues that occurred, steps performed, and resource usage details, making it an invaluable resource for debugging and auditing.</p> <p><strong>Benefits:</strong></p> <ul> <li>Debugging: By capturing standard error output in a file, users can systematically review the logs to diagnose and resolve any issues that may have occurred during the workflow execution.</li> <li>Execution Trace: The log provides a step-by-step trace of the execution process, which is useful for understanding how the workflow was processed and where any potential bottlenecks or failures might have occurred.</li> <li>Audit Trail: The log file serves as an audit trail, documenting the workflow execution in detail, which can be important for compliance, reproducibility, or record-keeping.</li> </ul> <p>This option is crucial for maintaining a clear and accessible record of the Calrissian execution process, enabling users to troubleshoot problems, monitor the workflow, and ensure that everything runs as expected.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.56dfad97.min.js></script> </body> </html>